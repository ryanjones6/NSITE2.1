(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5edb5042"],{"0e8f":function(t,e,a){"use strict";a("20f6");var s=a("e8f2");e["a"]=Object(s["a"])("flex")},"20fd":function(t,e,a){},2981:function(t,e,a){},4767:function(t,e,a){"use strict";a("d2af")},"71eb":function(t,e,a){"use strict";a("2981")},"75d2":function(t,e,a){},"86c9":function(t,e,a){"use strict";a("75d2")},"95cb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hvac"},[a("v-container",[a("v-row",{attrs:{"justify-center":"",dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[a("HVAC",{attrs:{cursor:"pointer"}})],1)],1)],1),t.dialog?a("ReadingsDetails",{attrs:{id:t.activeID},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}}):t._e()],1)},i=[],n=a("be9e"),o=a("e5ad"),r=a("0c12"),l={name:"HVACView",components:{HVAC:n["a"],ReadingsDetails:o["a"]},data:function(){return{dialog:!1,activeID:""}},created:function(){r["a"].$on("details",this.openDetailsDialog)},mounted:function(){window.scrollTo(0,0)},methods:{openDetailsDialog:function(t){this.activeID=t,this.dialog=!this.dialog}}},c=l,u=(a("9cfb"),a("2877")),d=a("6544"),v=a.n(d),p=a("62ad"),h=a("a523"),b=a("0fd9"),f=Object(u["a"])(c,s,i,!1,null,"83e068bc",null);e["default"]=f.exports;v()(f,{VCol:p["a"],VContainer:h["a"],VRow:b["a"]})},"9cfb":function(t,e,a){"use strict";a("20fd")},"9fbe":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-1",style:t.viewRule_Box,on:{click:function(e){return t.showDialog(t.view._id)}}},[t.hasName?a("div",{staticClass:"text-center  text--secondary",class:t.boxName},[a("span",[t._v(t._s(t.view.name))])]):t._e(),a("div",{staticClass:"boxvalue text-center",class:[t.boxValue,t.fontStyle]},[a("span",{style:t.viewRule_Value},[t._v(t._s(t.view.value))])])])},i=[],n=(a("b0c0"),a("0c12")),o={props:{view:{type:Object},hasName:{type:Boolean,default:!0},fontSize:{type:String,default:"18px"},breakpointLG:{type:Boolean,default:!1}},data:function(){return{}},created:function(){},methods:{showDialog:function(t){console.log("here",t),n["a"].$emit("details",t)}},computed:{boxValue:function(){return{"--size":this.fontSize}},boxName:function(){return"lg"===this.$vuetify.breakpoint.name?["caption",this.view.style]:["subtitle-2",this.view.style]},fontStyle:function(){return this.breakpointLG?"lg"===this.$vuetify.breakpoint.name?"caption":"subtitle-2":""}}},r=o,l=(a("4767"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"06021df8",null);e["a"]=c.exports},be9e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pb-3 ",attrs:{height:"288px"}},[a("v-card-title",{staticClass:"text-center pt-1"},[t._v("HVAC SYSTEM")]),t.hasHVAC?a("v-card",{staticClass:"mx-2 mt-n2",attrs:{elevation:"4",outlined:""}},[a("v-container",{staticClass:"my-n3"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},t._l(t.$displayOrder(t.$view.hvac),(function(e,s){return a("div",{key:s,staticClass:"box",style:t.hover},[a("v-flex",{staticClass:" pb-1",class:t.$vuetify.breakpoint.lg?["py-0","pt-2"]:"pa-2"},[a("BoxValue",{attrs:{view:e}})],1)],1)})),0)],1)],1):t._e(),t.hasHVAC?a("v-card",{staticClass:"mx-2 mt-2 px-1",attrs:{elevation:"4",outlined:""}},[a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center  text--secondary  px-1",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(" System ")]),a("th",{staticClass:"text-center  text--secondary px-1",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(" Low ")]),a("th",{staticClass:"text-center  text--secondary px-1",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(" High ")]),a("th",{staticClass:"text-center  text--secondary px-1",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(" Suction ")]),a("th",{staticClass:"text-center  text--secondary px-1",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(" Comp. ")])])]),a("tbody",t._l(t.hvac,(function(e){return a("tr",{key:e.name},[a("td",{staticClass:"text-center pa-0 text--secondary",class:t.$vuetify.breakpoint.lg?"caption":"subtitle-2"},[t._v(t._s(e.system))]),t._l(t.$displayOrder(t.$view[e.group]),(function(e,s){return a("td",{key:s,staticClass:"text-center pa-0 "},[a("span",{style:t.hover},[a("BoxValue",{attrs:{breakpointLG:!0,fontSize:"14px",hasName:!1,view:e}})],1)])}))],2)})),0)]},proxy:!0}],null,!1,2224490152)})],1):t._e()],1)},i=[],n=a("9fbe"),o=a("0c12"),r={name:"HVAC",props:["cursor"],components:{BoxValue:n["a"]},data:function(){return{hasHVAC:!0,hvac:[{system:"1",group:"hvacSystem1"},{system:"2",group:"hvacSystem2"},{system:"3",group:"hvacSystem3"},{system:"4",group:"hvacSystem4"}]}},methods:{showDialog:function(t){o["a"].$emit("details",t)}},computed:{hover:function(){return{"--cursor":this.cursor}}},created:function(){this.$view.hvac?this.hasHVAC=!0:this.hasHVAC=!1}},l=r,c=(a("71eb"),a("2877")),u=a("6544"),d=a.n(u),v=a("b0af"),p=a("99d9"),h=a("a523"),b=a("0e8f"),f=a("a722"),m=a("1f4f"),g=Object(c["a"])(l,s,i,!1,null,"e1f576f4",null);e["a"]=g.exports;d()(g,{VCard:v["a"],VCardTitle:p["d"],VContainer:h["a"],VFlex:b["a"],VLayout:f["a"],VSimpleTable:m["a"]})},d2af:function(t,e,a){},e5ad:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-dialog",{attrs:{"max-width":"700px",scrollable:"",fullscreen:t.$vuetify.breakpoint.mobile},on:{"click:outside":function(e){t.revealTag=!1}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",{attrs:{elevation:"24",outlined:""}},[a("v-card-title",{staticClass:"headline px-3"},[t._v(t._s(t.id)),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v(t._s(t.$icon.mdiClose))])],1)],1),a("v-subheader",{staticClass:"font-italic mt-n6"},[t._v(t._s(t.registerType()))]),a("v-card-text",{staticClass:"pa-0"},[a("pre",{class:["",{"fs-13":t.$vuetify.breakpoint.mobile}]},[t._v(t._s(t.$root.readingsTest[t.id]))])]),a("v-divider"),a("v-card-actions",{staticClass:"py-4"},[a("v-btn",{staticClass:"ml-2 mr-3",attrs:{color:"primary"},on:{click:function(e){t.eventDialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.$icon.mdiAccessPointPlus))]),t._v("Event")],1),a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary"}},"v-btn",i,!1),s),[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.$icon.mdiPencil))]),t._v("Edit")],1)]}}])},[a("v-list",t._l(t.editMenu,(function(e,s){return a("v-list-item",{key:s},[a("v-btn",{attrs:{disabled:e.disabled},on:{click:function(a){return t.edit(e.title)}}},[t._v(t._s(e.title))])],1)})),1)],1)],1),a("v-spacer")],1),a("v-expand-transition",[t.revealTag?a("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal d-flex flex-column",staticStyle:{height:"100%"},attrs:{outlined:""}},[a("v-card-title",{staticClass:"headline px-3"},[a("v-icon",{staticClass:"pr-3"},[t._v(t._s(t.$icon.mdiCodeBrackets))]),t._v(t._s(t.id)+" - Edit Tags "),a("v-spacer")],1),a("v-subheader",{staticClass:"font-italic mt-n7"},[t._v("array")]),a("v-card-text",{staticClass:"pb-0",attrs:{scrollable:""}},[a("v-combobox",{attrs:{outlined:"","small-chips":"",multiple:"",label:"Event Tags",items:t.tagAll},model:{value:t.tagArray,callback:function(e){t.tagArray=e},expression:"tagArray"}})],1),a("v-spacer"),a("v-divider"),a("v-card-actions",{},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.revealTag=!1}}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.revealTag=!1&t.addTags()}}},[t._v(" OK ")])],1)],1):t._e()],1),a("v-expand-transition",[t.revealViewRule?a("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal d-flex flex-column",staticStyle:{height:"100%"},attrs:{outlined:""}},[a("v-card-title",{staticClass:"headline px-3"},[a("v-icon",{staticClass:"pr-3"},[t._v(t._s(t.$icon.mdiCodeJson))]),t._v(t._s(t.id)+" - View Rules "),a("v-spacer")],1),a("v-subheader",{staticClass:"font-italic mt-n7"},[t._v("object")]),a("v-card-text",{staticClass:"pb-0",staticStyle:{overflow:"auto"},attrs:{scrollable:""}},[a("v-jsoneditor",{staticClass:"mb-2 ",attrs:{options:t.options,plus:!1,height:"60vh"},model:{value:t.viewRuleObject,callback:function(e){t.viewRuleObject=e},expression:"viewRuleObject"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(e){return t.addRule("value")}}},[t._v("+ Value Rule")]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.addRule("box")}}},[t._v("+ Box Rule")])],1),a("v-card-text",{staticClass:"d-flex justify-center"},[a("span",[t._v('This allows you to modify the view based on a "value". These rules are global. It will apply to everyones view. If making changes from the desktop, make sure the changes are acceptable for mobile and vice versa. A basic knowlage of JSON and CSS is required.')])])],1),a("v-spacer"),a("v-divider"),a("v-card-actions",{},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.revealViewRule=!1}}},[t._v(" cancel ")]),a("v-btn",{attrs:{disabled:t.ok,color:"primary",text:""},on:{click:function(e){t.revealViewRule=!1&t.updateViewRule()}}},[t._v(" OK ")])],1)],1):t._e()],1)],1)],1),t.eventDialog?a("EventsEditDialog",{attrs:{mode:t.eventMode,events:t.emptyEventWithID},model:{value:t.eventDialog,callback:function(e){t.eventDialog=e},expression:"eventDialog"}}):t._e()],1)},i=[],n=(a("4160"),a("caad"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("466d"),a("159b"),a("53ca")),o=a("3966"),r=function(){return a.e("chunk-3e201052").then(a.bind(null,"27f7"))},l={name:"readingsDetailsDialog",components:{EventsEditDialog:o["a"],VJsoneditor:r},props:["value","id"],data:function(t){return{options:{search:!1,mode:"code",mainMenuBar:!1,onValidationError:function(e){console.log(e),t.jsonEditorErrors=e,t.jsonEditorErrors.length>0?t.ok=!0:t.ok=!1},schema:t.valueRule,onValidate:function(t){var e=["readingsValue","comparison","value","css"],a=[];return t.value?Array.isArray(t.value)?t.value.forEach((function(t){"object"!==Object(n["a"])(t)&&a.push({path:["value"],message:"Value array must contain objects."});var s=0;Object.keys(t).forEach((function(i){s++,e.includes(i)?("readingsValue"===i&&(t[i].match(/^(value|mathValue|rawValue)$/)||a.push({path:["value"],message:"Required - readingsValue: value|mathValue|rawValue"})),"comparison"===i&&(t[i].match(/^(equal|notEqual|lessThan|lessThanOrEqual|graterThan|graterThanOrEqual|between|notBetween)$/)||a.push({path:["value"],message:"Required - comparison: equal|notEqual|lessThan|lessThanOrEqual|graterThan|graterThanOrEqual|between|notBetween"})),"css"===i&&"object"!==Object(n["a"])(t[i])&&a.push({path:["value"],message:"css must be an object"})):a.push({path:["value"],message:"Value object must contain readingsValue, comparison, value, and css key properties"})})),s<4&&a.push({path:["value"],message:"value object must contain readingsValue, comparison, value, and css key properties"})})):a.push({path:["value"],message:"Value must be an array."}):a.push({path:["value"],message:'Required property "value" missing.'}),t.box?Array.isArray(t.box)?t.box.forEach((function(t){"object"!==Object(n["a"])(t)&&a.push({path:["box"],message:"box array must contain objects."});var s=0;Object.keys(t).forEach((function(i){s++,e.includes(i)?("readingsValue"===i&&(t[i].match(/^(value|mathValue|rawValue)$/)||a.push({path:["box"],message:"Required - readingsValue: value|mathValue|rawValue"})),"comparison"===i&&(t[i].match(/^(equal|notEqual|lessThan|lessThanOrEqual|graterThan|graterThanOrEqual|between|notBetween)$/)||a.push({path:["box"],message:"Required - comparison: equal|notEqual|lessThan|lessThanOrEqual|graterThan|graterThanOrEqual|between|notBetween"})),"css"===i&&"object"!==Object(n["a"])(t[i])&&a.push({path:["box"],message:"css must be an object"})):a.push({path:["box"],message:"Box object must contain readingsValue, comparison, value, and css key properties"})})),s<4&&a.push({path:["box"],message:"box object must contain readingsValue, comparison, value, and css key properties"})})):a.push({path:["box"],message:"Box must be an array."}):a.push({path:["box"],message:'Required property "box" missing.'}),a}},eventMode:"create",eventDialog:!1,test:!1,revealTag:!1,revealViewRule:!1,tagAll:[],tagArray:[],rules:{name:[function(t){return(t||"").length>0||"No empty fields"}]},status:{},editMenu:[{title:"Reset Min",disabled:!0},{title:"Reset Max",disabled:!0},{title:"Edit Tag",disabled:!1},{title:"View Rule",disabled:!1}],viewRuleObject:{},jsonEditorErrors:[],ok:!0}},computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},created:function(){this.tagNames(),this.emptyEventWithID=this.$clone(this.$emptyEvent),this.emptyEventWithID.register_id=this.id,this.emptyEventWithID.alias=this.$root.readingsTest[this.id].view.alias},methods:{addRule:function(t){var e={readingsValue:"",comparison:"",value:"",css:{}};"value"===t?this.viewRuleObject.value.push(e):"box"===t&&this.viewRuleObject.box.push(e)},registerType:function(){var t=this.id.includes("_");return t?(this.editMenu[0].disabled=!0,this.editMenu[1].disabled=!0,"binary"):(this.editMenu[0].disabled=!1,this.editMenu[1].disabled=!1,this.editMenu[2].disabled=!1,"word")},testing:function(t){console.log(t)},updateViewRule:function(){var t={};t._id=this.id,t.rule=this.viewRuleObject,this.$http.post("/api/modbus/updateViewRule",t).then((function(t){console.log(t)}))},onError:function(t){console.log(t)},edit:function(t){var e=this;switch(t){case"Reset Min":this.$http.get("/api/modbus/resetMin/".concat(this.id)).then((function(t){console.log(t)}));break;case"Reset Max":this.$http.get("/api/modbus/resetMax/".concat(this.id)).then((function(t){console.log(t)}));break;case"Edit Tag":this.revealTag=!this.revealTag,this.$http.get("/api/modbus/getTagByID/".concat(this.id)).then((function(t){e.tagArray=t.results}));break;case"View Rule":this.viewRuleObject=this.$root.readingsTest[this.id].view.rule,this.revealViewRule=!this.revealViewRule;break;default:break}},addTagItem:function(){this.tagArray.push("")},addTags:function(){var t=this,e={_id:this.id,tag:this.tagArray};this.$http.post("/api/modbus/updateTags",e).then((function(e){t.status=e,t.tagNames()}))},removeTag:function(t){this.$delete(this.tagArray,t)},tagNames:function(){var t=this;this.$http.get("/api/readings/tagNames").then((function(e){e.results.forEach((function(e){t.tagAll.includes(e)||t.tagAll.push(e)})),t.tagAll.sort()}))}}},c=l,u=(a("86c9"),a("2877")),d=a("6544"),v=a.n(d),p=a("8336"),h=a("b0af"),b=a("99d9"),f=a("2b5d"),m=a("169a"),g=a("ce7e"),y=a("0789"),x=a("132d"),V=a("8860"),w=a("da13"),_=a("e449"),C=a("2fa4"),k=a("e0c7"),T=Object(u["a"])(c,s,i,!1,null,"1ff13d41",null);e["a"]=T.exports;v()(T,{VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCombobox:f["a"],VDialog:m["a"],VDivider:g["a"],VExpandTransition:y["a"],VIcon:x["a"],VList:V["a"],VListItem:w["a"],VMenu:_["a"],VSpacer:C["a"],VSubheader:k["a"]})}}]);
//# sourceMappingURL=chunk-5edb5042.27bfa310.js.map