(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac9f08bc"],{"0c18":function(t,e,i){},"0e8f":function(t,e,i){"use strict";i("20f6");var s=i("e8f2");e["a"]=Object(s["a"])("flex")},1949:function(t,e,i){},"26a9":function(t,e,i){},"60ba":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alerts"},[i("v-container",[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12",xl:"5",lg:"5",md:"5",sm:"5",xs:"12"}},[i("Notifications")],1),i("v-col",{attrs:{cols:"12",xl:"5",lg:"7",md:"7",sm:"7",xs:"12"}},t._l(t.devices,(function(e,s){return i("v-card",{key:s,attrs:{height:"462px"}},[i("v-card-title",{staticClass:"text-center pt-1"},[t._v("ALARMS LIST ")]),i("perfect-scrollbar",[i("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[t._v(" Alarm ")]),i("th",{staticClass:"text-center"},[t._v(" Type ")]),i("th",{staticClass:"text-center"},[t._v(" Device ")]),i("th",{staticClass:"text-center"},[t._v(" Create Event ")])])]),i("tbody",t._l(t.$displayOrder(t.$view.alarm),(function(e,s){return i("tr",{key:s},[i("td",{staticClass:"text-left "},[t._v(t._s(e.name))]),i("td",{staticClass:"text-center"},[t._v(t._s(t.alertType(e._id)))]),i("td",{staticClass:"text-center"},[t._v(t._s(e.device))]),i("td",{staticClass:"text-center"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.addEvent(e._id)}}},[i("v-icon",[t._v(t._s(t.$icon.mdiAccessPoint))])],1)],1)])})),0)]},proxy:!0}],null,!0)})],1)],1)})),1)],1),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12",xl:"10",lg:"12",md:"12",sm:"12",xs:"12"}},[i("v-card",[i("v-card-title",[t._v("ALARM LOGS")]),i("v-container",{attrs:{"grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md8:""}},[i("v-card",{attrs:{raised:"",elevation:"16 mb-10"}},[i("v-card-title",{staticClass:"test white--text"},[t._v("Download Files "),i("v-spacer"),i("v-spacer"),i("v-select",{staticClass:"mb-n7",attrs:{label:"Device",items:t.alarmDevices,outlined:""},on:{input:function(e){return t.getAlarms()}},model:{value:t.deviceSelect,callback:function(e){t.deviceSelect=e},expression:"deviceSelect"}})],1),i("br"),i("v-container",{attrs:{"py-0":""}},[t.showFiles?i("v-layout",{attrs:{wrap:""}},[t.errorMsg?i("v-card-subtitle",[t._v(t._s(t.errorMsg))]):t._e(),t._l(t.filesrcs,(function(e,s){return i("v-flex",{key:s,attrs:{xs12:"",md4:""}},[i("v-card",{attrs:{outlined:""},on:{click:function(i){return t.download(e)}}},[i("v-list",[i("v-list-item",[i("v-list-item-title",[t._v(t._s(e))]),i("v-list-item-icon",[i("v-icon",{staticClass:"primary--text"},[t._v(t._s(t.$icon.mdiDownload))])],1)],1)],1)],1)],1)}))],2):i("v-layout",{attrs:{wrap:""}},[i("v-card-subtitle",[t._v("Select a device to view available logs.")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t.eventDialog?i("EventsEditDialog",{attrs:{mode:"create",events:t.emptyEventWithID},model:{value:t.eventDialog,callback:function(e){t.eventDialog=e},expression:"eventDialog"}}):t._e()],1)},a=[],r=(i("99af"),i("4160"),i("caad"),i("b64b"),i("2532"),i("159b"),i("e985")),n=i("3966"),o=i("0c12"),l=i("3f9d"),c={name:"AlertsVIew",components:{Notifications:r["a"],EventsEditDialog:n["a"]},data:function(){return{errorMsg:"",deviceSelect:"",showFiles:!1,alarmDevices:[],filesrcs:[],eventDialog:!1,dialog:!1,activeID:"",devices:["XL7"],items:["critical","warning"],typeSelect:"warning",viewAlarms:{},header:[{text:"Alert",align:"start",sortable:!1,value:"name"},{text:"Type",align:"center",sortable:!1,value:"name"},{text:"Device",align:"center",sortable:!1,value:"name"},{text:"Create Event",align:"center",sortable:!1,value:"name"}]}},created:function(){var t=this;o["a"].$on("details",this.openDetailsDialog),this.viewAlarms=this.$view.alarm,Object.keys(this.viewAlarms).forEach((function(e){t.alarmDevices.includes(t.viewAlarms[e].device)||t.alarmDevices.push(t.viewAlarms[e].device)}))},mounted:function(){window.scrollTo(0,0)},methods:{download:function(t){window.open("http://".concat(l["a"],"/api/ftp/get/alarms/XL7/ALARMS/").concat(t))},getAlarms:function(){var t=this;this.deviceSelect&&(this.showFiles=!0),this.$http.get("/api/ftp/list/alarms/".concat(this.deviceSelect,"/ALARMS")).then((function(e){t.filesrcs=[],"error"!==e.status?(t.errorMsg="",e.results.forEach((function(e){t.filesrcs.push(e)}))):t.errorMsg="Error connecting to this device or it may not support alarm logging."}))},openDetailsDialog:function(t){this.activeID=t,this.dialog=!this.dialog},testagain:function(t){console.log(t)},alertType:function(t){return"error"===this.$view.alarm[t].style?"Critical":"warning"===this.$view.alarm[t].style?"Warning":""},addEvent:function(t){this.emptyEventWithID=this.$clone(this.$emptyEvent),this.emptyEventWithID.register_id=t,this.emptyEventWithID.alias=this.$root.readingsTest[t].view.alias,this.eventDialog=!this.eventDialog}}},d=c,v=(i("6e7e"),i("2877")),u=i("6544"),h=i.n(u),p=i("8336"),f=i("b0af"),m=i("99d9"),g=i("62ad"),b=i("a523"),_=i("0e8f"),y=i("132d"),w=i("a722"),x=i("8860"),C=i("da13"),$=i("34c3"),A=i("5d23"),D=i("0fd9"),S=i("b974"),E=i("1f4f"),V=i("2fa4"),B=Object(v["a"])(d,s,a,!1,null,"7155b4e7",null);e["default"]=B.exports;h()(B,{VBtn:p["a"],VCard:f["a"],VCardSubtitle:m["b"],VCardTitle:m["d"],VCol:g["a"],VContainer:b["a"],VFlex:_["a"],VIcon:y["a"],VLayout:w["a"],VList:x["a"],VListItem:C["a"],VListItemIcon:$["a"],VListItemTitle:A["c"],VRow:D["a"],VSelect:S["a"],VSimpleTable:E["a"],VSpacer:V["a"]})},"632f":function(t,e,i){"use strict";i("1949")},"6e7e":function(t,e,i){"use strict";i("26a9")},afdd:function(t,e,i){"use strict";var s=i("8336");e["a"]=s["a"]},e985:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{height:"462px"}},[i("v-card-title",{staticClass:"text-center pt-1"},[t._v("ACTIVE SYSTEM ALARMS")]),i("v-card-text",{staticClass:"mb-4 px-2"},[i("perfect-scrollbar",t._l(t.$displayOrder(t.$view.alarm),(function(t,e){return i("AlertBox",{key:e,attrs:{id:t._id}})})),1)],1)],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-alert",{staticClass:"mb-2",attrs:{type:t.$vuetify.breakpoint.lg?"":t.$view.alarm[t.id].style,color:t.$vuetify.breakpoint.lg?t.$view.alarm[t.id].style:"",border:"left",text:"",dense:"",prominent:"",dark:"",elevation:"6"},on:{input:t.test}},[i("v-row",[i("v-col",{staticClass:"py-0"},[i("div",{staticClass:"d-flex"},[i("v-spacer"),i("span",{staticClass:"caption"},[t._v(t._s(t.alertType)+" - "+t._s(t.$view.alarm[t.id].device))])],1)])],1),i("v-row",[i("v-col",{staticClass:"pt-0 pb-2"},[i("div",{staticClass:"d-flex justify-start"},[i("span",{class:t.$vuetify.breakpoint.lg?"caption":"body-2"},[t._v(t._s(t.$view.alarm[t.id].value))])])])],1)],1):t._e()},n=[],o={name:"AlertBox",props:["id"],data:function(){return{}},created:function(){this.$emit("alertFalse","test")},methods:{test:function(){}},computed:{show:function(){return"- - -"!==this.$view.alarm[this.id].value&&"--"!==this.$view.alarm[this.id].value&&0!=this.$view.alarm[this.id].value},alertType:function(){return"error"===this.$view.alarm[this.id].style?"Critical":"warning"===this.$view.alarm[this.id].style?"Warning":""}}},l=o,c=i("2877"),d=i("6544"),v=i.n(d),u=(i("caad"),i("5530")),h=i("ade3"),p=(i("0c18"),i("10d2")),f=i("afdd"),m=i("9d26"),g=i("f2e7"),b=i("7560"),_=i("2b0e"),y=_["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),w=i("58df"),x=i("d9bd"),C=Object(w["a"])(p["a"],g["a"],y).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(h["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(f["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(m["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(m["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(u["a"])(Object(u["a"])({},p["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||b["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(x["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),$=i("62ad"),A=i("0fd9"),D=i("2fa4"),S=Object(c["a"])(l,r,n,!1,null,"eb933420",null),E=S.exports;v()(S,{VAlert:C,VCol:$["a"],VRow:A["a"],VSpacer:D["a"]});var V={name:"notifications",components:{AlertBox:E},created:function(){}},B=V,I=(i("632f"),i("b0af")),k=i("99d9"),T=Object(c["a"])(B,s,a,!1,null,"dcfaef94",null);e["a"]=T.exports;v()(T,{VCard:I["a"],VCardText:k["c"],VCardTitle:k["d"]})}}]);
//# sourceMappingURL=chunk-ac9f08bc.453cabef.js.map